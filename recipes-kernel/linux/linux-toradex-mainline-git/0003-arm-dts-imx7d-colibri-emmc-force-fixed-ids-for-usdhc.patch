From 247fe20f4a41c972dba9db91a292f124134f7521 Mon Sep 17 00:00:00 2001
From: Marcel Ziswiler <marcel.ziswiler@toradex.com>
Date: Mon, 16 Dec 2019 08:07:38 +0100
Subject: [PATCH 3/8] arm: dts: imx7d-colibri-emmc: force fixed ids for usdhc
 controllers

The following, together with kernel patches, forces a fixed assignment
between device id and sdmmc controller.

I.e. the eMMC on uSDHC3 will be /dev/mmcblk0.

Signed-off-by: Marcel Ziswiler <marcel.ziswiler@toradex.com>
---
 arch/arm/boot/dts/imx7d-colibri-emmc.dtsi | 10 ++++++++++
 1 file changed, 10 insertions(+)

diff --git a/arch/arm/boot/dts/imx7d-colibri-emmc.dtsi b/arch/arm/boot/dts/imx7d-colibri-emmc.dtsi
index 3740e34ef99f..9b5621cf9f32 100644
--- a/arch/arm/boot/dts/imx7d-colibri-emmc.dtsi
+++ b/arch/arm/boot/dts/imx7d-colibri-emmc.dtsi
@@ -11,6 +11,16 @@ aliases {
 		/* Required to properly pass MAC addresses from bootloader. */
 		ethernet0 = &fec1;
 		ethernet1 = &fec2;
+
+		/*
+		 * The following forces a fixed assignment between device id
+		 * and SDMMC controllers.
+		 *
+		 * I.e. the eMMC on uSDHC3 will be /dev/mmcblk0.
+		 */
+		mmc0 = &usdhc3; /* eMMC */
+		mmc1 = &usdhc1; /* MMC/SD slot */
+
 	};
 
 	memory@80000000 {
-- 
2.35.3

